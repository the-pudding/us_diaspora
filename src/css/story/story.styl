// /* CUSTOM STORY STYLE */
main
    background-color: $thisBlue

.unexpected
    &__container
        display flex
        flex-direction: row     
        flex-wrap: wrap;   
        

.short-story
    background-color $thisBlue
    width 50vw     

    &__intro
        margin 0 auto
        max-width: 50rem
        font-size: 24px
        height 60vh
        padding-top: 1vh
        padding-right: 5vw
        padding-left: 2vw

        .story-text
            color white
            font-size 16px
            font-family $national   
    
    &__header
        .em-dash-border
            margin-top 0
            color $thisPink
            font-size: 36px
            font-weight: 800
            font-family: $national
            line-height: 0
        
    &__title
        font-size: 36px
        color $thisPink
        font-weight: 600
        font-family: $national

    &__map-container
        width 45vw
        height 45vh

.tour
    display: flex
    flex-direction: row

    &__step-container        
        max-width: 30%
        background-color: $thisBlue
        position relative

        .tour-step
            height 100vh
            display: flex
            // border-bottom: 1px blue solid
            // justify-content: center
            align-items: center
            font-family $national   
            color white
            background-color: $thisBlue


    &__map
        height 100vh
        width 100%
        background-color: red
        position: sticky
        top 0

    


    
.highlight
    background red
        
.marker {
//   background-image: url('mapbox-icon.png');
  background-color: pink
  background-size: cover;
  width: 50px;
  height: 50px;
  border-radius: 50%;
  cursor: pointer;
  visibility: hidden
}        

.showMarker
    visibility: visible

.mapboxgl-popup {
  max-width: 200px;
}

.mapboxgl-popup-content {
  text-align: center;
  font-family: 'Open Sans', sans-serif;
}

.explore
    &__viz
        // display flex
        // flex-direction: row
        height 100vh
        width 100%
        position: relative

    &__chart
        width 100%
        height 100vh

    &__nav-bar        
        z-index: 10
        position fixed  
        padding 1rem 0.5rem   
        transform: translateX(-95%)   
        width 20%
        height 90%        
        top 5%
        left 0
        background-color: #222746
        box-shadow 1px 2px 10px #171717
        border-radius 5px
        display flex
        flex-direction: column
        transition transform 0.4s;
        position absolute

        .button-list
            overflow: scroll            
            height 100%
            overflow-y scroll

            .country-button
                font-family: $national
                color: white
                cursor pointer
        
        .nav-title
            color white
            font-weight: 800


    // &__nav-bar:hover        
    //     transform: translateX(0)   
    
    &__expand-tab
        margin auto
        transform translate(100%, 0)
        visibility: hidden
        position: absolute
        bottom 50%
        right 0
        cursor pointer

        .triangle-left  
            height: 2rem
            width: 2rem
            border-bottom-right-radius: 4rem
            border-top-right-radius: 4rem
            background #222746
            -webkit-box-shadow: 1px 2px 10px #171717;
            box-shadow: 10px 0 8px 0px #171717
            
            // Adding movement button
            &:before,
            &:after
                content: "";
                position: absolute;
                background-color: white;
                transition: transform 0.25s ease-out;
            
            &:before
                top: 10%;
                left: 50%;
                width: 4px;
                height: 80%;
                margin-left: -2px;

            &:after
                top: 50%;
                left: 10%;
                width: 80%;
                height: 4px;
                margin-top: -2px;
            
            &.collapsed                // cursor: pointer

                &:before
                    transform: rotate(90deg);
                
                &:after
                    transform: rotate(180deg);
            // background white
            // display table


            // span
            //     display table-cell
            //     vertical-align middle
            // border-top: 25px solid transparent;
            // border-right: 50px solid #555;
            // border-bottom: 25px solid transparent;


        // .button-list:after
        //     content: "";
        //     position: absolute;
        //     z-index: 1;
        //     bottom: 0;
        //     left: 0;
        //     pointer-events: none;
        //     background-image: linear-gradient(to bottom, rgba(255,255,255,0), rgba(255,255,255, 1) 90%);
        //     width: 100%;
        //     height: 4em;
        
 

    &__header
        font-size: 36px
        color $thisPink
        font-weight: 600
        font-family: $national

.fade
    content: "";
    position: absolute;
    z-index: 1;
    bottom: 0;
    left: 0;
    pointer-events: none;
    background-image: linear-gradient(to bottom, rgba(60,59,110,0), rgba(60,59,110, 1) 100%);
    width: 100%;
    height: 5em;

.method
    &__title
        text-align center
        font-family: $national
        color gray

    &__body
        max-width 60rem
        margin 0 auto  

    .method-text
        font-family: $national
        color gray     
        text-align: justify 


// .explore
//     display flex
//     flex-direction row

//     &__nav-bar         
//         flex-grow 1
//         color white
//         height 100vh
        
//         ul
//             overflow hidden
        
//             li
//                 overflow scroll
    
//     &__map-container 
//         flex-grow: 4
//         background-image url('assets/images/mainland_sun.png')
//         background-repeat no-repeat
//         background-size: contain;

// .state
//     fill-opacity 0
//     stroke #000


// .explore
//     &__title
//         color $thisPink
//         font-size 72px
//         font-family: $national
//         font-weight: 800

//     &__viz
//         display: flex   
//         flex-direction: row

//     &__map-container
//         width: 80vw
//         height 80vh
//         position: sticky
//         top 0
//         background-color: pink